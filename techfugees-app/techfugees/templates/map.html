<div id="map" style="height: 100%"></div>
<button id="btn" >Map</button>
<script src="http://maps.google.com/maps/api/js?key=AIzaSyBgDy3WJoB5prBHOZBhSEwWZC_GQp04s9w"></script>
<script type="text/javascript">
    let btn = document.getElementById('btn')
    btn.addEventListener('click', techMap)
    let data = {{mymap|safe}}
    function techMap(e) {
        let latitude = parseFloat("43.663908");
        let longitude = parseFloat("-79.387670");
        let latlngPos = new google.maps.LatLng(latitude, longitude);
        let myOptions = {
            zoom: 10,
            center: latlngPos,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        let map = new google.maps.Map(document.getElementById("map"), myOptions);
        data.forEach(function(p) {
            let point = new google.maps.LatLng(p.lat, p.lng);
            let marker = new google.maps.Marker({position: point,
                map: map,
                title: p.title
            });
        })
    }
</script>